<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bmzkodwow</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body, html {
      height: 100%;
      font-family: 'Arial', sans-serif;
      overflow: hidden;
      background: linear-gradient(45deg, #2a2a2a, #181818);
      color: white;
    }
    .container {
      padding: 20px;
      max-width: 600px;
      margin: auto;
      text-align: center;
      background: rgba(40, 40, 40, 0.9);
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0,0,0,0.5);
      margin-top: 40px;
    }
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 30px;
      background-color: #444;
      color: white;
      font-weight: bold;
      cursor: pointer;
      margin: 10px 5px;
      transition: background 0.3s;
    }
    .btn:hover {
      background-color: #666;
    }
    .color-palette {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 10px 0;
    }
    .color-btn {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      border: 2px solid white;
      cursor: pointer;
    }
    .color-btn.eraser {
      background: repeating-linear-gradient(135deg, #fff 0 10px, #eee 10px 20px);
      border: 2px dashed #888;
    }
    canvas {
      border: 2px solid #aaa;
      border-radius: 10px;
      margin-top: 10px;
      background: white;
      cursor: crosshair;
    }
    .save-btn {
      background-color: green;
    }
    .back-btn {
      background-color: crimson;
    }
  </style>
</head>
<body>
  <div class="container" id="homeScreen">
    <h1 class="name">Bmzkodwow</h1>
    <p class="subtitle">‚ú® Welcome to my colorful world ‚ú®</p>
    <div class="menu-buttons">
      <button class="btn" onclick="showRegister()">üåü ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
      <button class="btn" onclick="showLogin()">üîë ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
    </div>
  </div>

  <div class="container" id="registerScreen" style="display:none">
    <h2>‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h2>
    <form onsubmit="register(event)">
      <input type="text" id="regUsername" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ" required><br><br>
      <input type="password" id="regPassword" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" required><br><br>
      <button class="btn" type="submit">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
      <button class="btn back-btn" type="button" onclick="showHome()">‡∏Å‡∏•‡∏±‡∏ö</button>
    </form>
  </div>

  <div class="container" id="loginScreen" style="display:none">
    <h2>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h2>
    <form onsubmit="login(event)">
      <input type="text" id="loginUsername" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ" required><br><br>
      <input type="password" id="loginPassword" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" required><br><br>
      <button class="btn" type="submit">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
      <button class="btn back-btn" type="button" onclick="showHome()">‡∏Å‡∏•‡∏±‡∏ö</button>
    </form>
  </div>

  <div class="container" id="dashboard" style="display:none">
    <p id="welcomeUser"></p>
    <button class="btn" onclick="showDrawingCanvas()">üñå ‡∏ß‡∏≤‡∏î‡∏£‡∏π‡∏õ</button>
    <button class="btn back-btn" onclick="showHome()">üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
  </div>

  <div class="container" id="drawingCanvas" style="display:none">
    <h2 class="name" style="font-size: 2rem;">‡∏ß‡∏≤‡∏î‡∏£‡∏π‡∏õ</h2>
    <div class="color-palette">
      <div class="color-btn" style="background: black;" onclick="setColor('#000000', this)"></div>
      <div class="color-btn" style="background: red;" onclick="setColor('#ff0000', this)"></div>
      <div class="color-btn" style="background: blue;" onclick="setColor('#0000ff', this)"></div>
      <div class="color-btn" style="background: green;" onclick="setColor('#00ff00', this)"></div>
      <div class="color-btn eraser" onclick="setColor('#ffffff', this)"></div>
    </div>
    <canvas id="canvas" width="400" height="300"></canvas><br>
    <button class="btn save-btn" onclick="saveDrawing()">üìÄ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ</button>
    <button class="btn back-btn" onclick="showDashboard(currentUser)">üîô ‡∏Å‡∏•‡∏±‡∏ö</button>
  </div>

  <script>
    let currentColor = "#000000";
    let isDrawing = false;
    let context;
    let currentUser = "";

    function hideAll() {
      document.querySelectorAll(".container").forEach(el => el.style.display = "none");
    }

    function showHome() {
      hideAll();
      document.getElementById("homeScreen").style.display = "block";
    }

    function showRegister() {
      hideAll();
      document.getElementById("registerScreen").style.display = "block";
    }

    function showLogin() {
      hideAll();
      document.getElementById("loginScreen").style.display = "block";
    }

    function showDashboard(username) {
      hideAll();
      currentUser = username;
      document.getElementById("dashboard").style.display = "block";
      document.getElementById("welcomeUser").innerText = "‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö " + username + "!";
    }

    function register(event) {
      event.preventDefault();
      const username = document.getElementById("regUsername").value;
      const password = document.getElementById("regPassword").value;
      if (localStorage.getItem(username)) {
        alert("‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß");
      } else {
        localStorage.setItem(username, JSON.stringify({ password }));
        alert("‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß");
        showLogin();
      }
    }

    function login(event) {
      event.preventDefault();
      const username = document.getElementById("loginUsername").value;
      const password = document.getElementById("loginPassword").value;
      const userData = JSON.parse(localStorage.getItem(username));
      if (userData && userData.password === password) {
        showDashboard(username);
      } else {
        alert("‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
      }
    }

    function showDrawingCanvas() {
      hideAll();
      document.getElementById("drawingCanvas").style.display = "block";
      const canvas = document.getElementById("canvas");
      context = canvas.getContext("2d");

      canvas.addEventListener('mousedown', () => isDrawing = true);
      canvas.addEventListener('mouseup', () => isDrawing = false);
      canvas.addEventListener('mouseout', () => isDrawing = false);
      canvas.addEventListener('mousemove', (e) => {
        if (!isDrawing) return;
        const rect = canvas.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        context.beginPath();
        context.arc(x, y, 4, 0, Math.PI * 2);
        context.fillStyle = currentColor;
        context.fill();
      });

      // ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å localStorage
      const saved = localStorage.getItem("savedDrawing");
      if (saved) {
        const img = new Image();
        img.onload = () => context.drawImage(img, 0, 0);
        img.src = saved;
      }
    }

    function setColor(color, el) {
      currentColor = color;
      document.querySelectorAll(".color-btn").forEach(btn => btn.classList.remove("active"));
      el.classList.add("active");
    }

    function saveDrawing() {
      const canvas = document.getElementById("canvas");
      const dataURL = canvas.toDataURL("image/png");
      localStorage.setItem("savedDrawing", dataURL);
      alert("‚úÖ ‡∏£‡∏π‡∏õ‡∏ß‡∏≤‡∏î‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß!");
    }

    showHome();
  </script>
</body>
</html>
