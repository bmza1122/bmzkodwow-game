<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bmzkodwow</title>
  <style>
    /* (‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‡∏ï‡∏±‡∏î‡∏≠‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡πà‡∏ô) */
    .save-btn {
      margin-top: 10px;
      background: rgba(100, 255, 100, 0.3);
    }
  </style>
</head>
<body>
  <div class="rainbow-bg">
    <!-- ... (‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å / ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ / ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö / dashboard / ‡∏ß‡∏≤‡∏î‡∏£‡∏π‡∏õ) ... -->

    <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ‡πÉ‡∏ô‡∏ß‡∏≤‡∏î‡∏£‡∏π‡∏õ -->
    <div class="container drawing-canvas" id="drawingCanvas">
      <h2 class="name" style="font-size: 2rem;">‡∏ß‡∏≤‡∏î‡∏£‡∏π‡∏õ</h2>
      <div class="color-palette">
        <div class="color-btn" style="background: black;" onclick="setColor('#000000', this)"></div>
        <div class="color-btn" style="background: red;" onclick="setColor('#ff0000', this)"></div>
        <div class="color-btn" style="background: blue;" onclick="setColor('#0000ff', this)"></div>
        <div class="color-btn" style="background: green;" onclick="setColor('#00ff00', this)"></div>
        <div class="color-btn eraser" onclick="setColor('#ffffff', this)"></div>
      </div>
      <canvas id="canvas" width="400" height="300"></canvas>
      <button class="btn save-btn" onclick="saveDrawing()">üìÄ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ</button>
      <button class="btn back-btn" onclick="showDashboard('')">üîô ‡∏Å‡∏•‡∏±‡∏ö</button>
    </div>
  </div>

  <!-- SCRIPT -->
  <script>
    let currentColor = "#000000";
    let isDrawing = false;
    let context;

    function hideAll() {
      document.querySelectorAll(".container").forEach(el => el.style.display = "none");
    }

    function showHome() {
      hideAll();
      document.getElementById("homeScreen").style.display = "block";
    }

    function showRegister() {
      hideAll();
      document.getElementById("registerScreen").style.display = "block";
    }

    function showLogin() {
      hideAll();
      document.getElementById("loginScreen").style.display = "block";
    }

    function showDashboard(username) {
      hideAll();
      document.getElementById("dashboard").style.display = "block";
      document.getElementById("welcomeUser").innerText = "‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö " + username + "!";
    }

    function register(event) {
      event.preventDefault();
      const username = document.getElementById("regUsername").value;
      const password = document.getElementById("regPassword").value;
      if (localStorage.getItem(username)) {
        alert("‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß");
      } else {
        localStorage.setItem(username, JSON.stringify({ password }));
        alert("‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß");
        showLogin();
      }
    }

    function login(event) {
      event.preventDefault();
      const username = document.getElementById("loginUsername").value;
      const password = document.getElementById("loginPassword").value;
      const userData = JSON.parse(localStorage.getItem(username));
      if (userData && userData.password === password) {
        showDashboard(username);
      } else {
        alert("‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
      }
    }

    function showDrawingCanvas() {
      hideAll();
      document.getElementById("drawingCanvas").style.display = "block";
      const canvas = document.getElementById("canvas");
      context = canvas.getContext("2d");

      canvas.onmousedown = () => isDrawing = true;
      canvas.onmouseup = () => isDrawing = false;
      canvas.onmousemove = (e) => {
        if (!isDrawing) return;
        const rect = canvas.getBoundingClientRect();
        context.fillStyle = currentColor;
        context.beginPath();
        context.arc(e.clientX - rect.left, e.clientY - rect.top, 4, 0, Math.PI * 2);
        context.fill();
      };

      // ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
      const saved = localStorage.getItem("savedDrawing");
      if (saved) {
        const img = new Image();
        img.onload = () => context.drawImage(img, 0, 0);
        img.src = saved;
      }
    }

    function setColor(color, el) {
      currentColor = color;
      document.querySelectorAll(".color-btn").forEach(btn => btn.classList.remove("active"));
      el.classList.add("active");
    }

    function saveDrawing() {
      const canvas = document.getElementById("canvas");
      const dataURL = canvas.toDataURL("image/png");
      localStorage.setItem("savedDrawing", dataURL);
      alert("‚úÖ ‡∏£‡∏π‡∏õ‡∏ß‡∏≤‡∏î‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß!");
    }

    showHome();
  </script>
</body>
</html>
