<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bmzkodwow</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body, html {
      height: 100%;
      font-family: 'Arial', sans-serif;
      overflow: hidden;
      background: linear-gradient(45deg, #2a2a2a, #181818);
      color: white;
    }
    .container {
      padding: 20px;
      max-width: 600px;
      margin: auto;
      text-align: center;
      background: rgba(40, 40, 40, 0.9);
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0,0,0,0.5);
      margin-top: 40px;
    }
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 30px;
      background-color: #444;
      color: white;
      font-weight: bold;
      cursor: pointer;
      margin: 10px 5px;
      transition: background 0.3s;
    }
    .btn:hover {
      background-color: #666;
    }
    .color-palette {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 10px 0;
    }
    .color-btn {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      border: 2px solid white;
      cursor: pointer;
    }
    .color-btn.eraser {
      background: repeating-linear-gradient(135deg, #fff 0 10px, #eee 10px 20px);
      border: 2px dashed #888;
    }
    canvas {
      border: 2px solid #aaa;
      border-radius: 10px;
      margin-top: 10px;
      background: white;
      cursor: crosshair;
    }
    .save-btn {
      background-color: green;
    }
    .back-btn {
      background-color: crimson;
    }
  </style>
</head>
<body>
  <div class="container" id="drawingCanvas">
    <h2 class="name" style="font-size: 2rem;">‡∏ß‡∏≤‡∏î‡∏£‡∏π‡∏õ</h2>
    <div class="color-palette">
      <div class="color-btn" style="background: black;" onclick="setColor('#000000', this)"></div>
      <div class="color-btn" style="background: red;" onclick="setColor('#ff0000', this)"></div>
      <div class="color-btn" style="background: blue;" onclick="setColor('#0000ff', this)"></div>
      <div class="color-btn" style="background: green;" onclick="setColor('#00ff00', this)"></div>
      <div class="color-btn eraser" onclick="setColor('#ffffff', this)"></div>
    </div>
    <canvas id="canvas" width="400" height="300"></canvas><br>
    <button class="btn save-btn" onclick="saveDrawing()">üìÄ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ</button>
    <button class="btn back-btn" onclick="showDashboard('')">üîô ‡∏Å‡∏•‡∏±‡∏ö</button>
  </div>

  <script>
    let currentColor = "#000000";
    let isDrawing = false;
    let context;

    function hideAll() {
      document.querySelectorAll(".container").forEach(el => el.style.display = "none");
    }

    function showHome() {
      hideAll();
      document.getElementById("drawingCanvas").style.display = "block";
    }

    function showDashboard(username) {
      alert('‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏±‡∏á Dashboard (mocked)');
    }

    function showDrawingCanvas() {
      hideAll();
      document.getElementById("drawingCanvas").style.display = "block";
      const canvas = document.getElementById("canvas");
      context = canvas.getContext("2d");

      canvas.onmousedown = () => isDrawing = true;
      canvas.onmouseup = () => isDrawing = false;
      canvas.onmouseleave = () => isDrawing = false;

      canvas.onmousemove = (e) => {
        if (!isDrawing) return;
        const rect = canvas.getBoundingClientRect();
        context.fillStyle = currentColor;
        context.beginPath();
        context.arc(e.clientX - rect.left, e.clientY - rect.top, 4, 0, Math.PI * 2);
        context.fill();
      };

      const saved = localStorage.getItem("savedDrawing");
      if (saved) {
        const img = new Image();
        img.onload = () => context.drawImage(img, 0, 0);
        img.src = saved;
      }
    }

    function setColor(color, el) {
      currentColor = color;
      document.querySelectorAll(".color-btn").forEach(btn => btn.classList.remove("active"));
      el.classList.add("active");
    }

    function saveDrawing() {
      const canvas = document.getElementById("canvas");
      const dataURL = canvas.toDataURL("image/png");
      localStorage.setItem("savedDrawing", dataURL);
      alert("‚úÖ ‡∏£‡∏π‡∏õ‡∏ß‡∏≤‡∏î‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß!");
    }

    showDrawingCanvas();
  </script>
</body>
</html>
